(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1784:function(t,e,a){var n=a(65),o=a(1894);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};n(o,r);t.exports=o.locals||{}},1893:function(t,e,a){"use strict";a(1784)},1894:function(t,e,a){(e=a(66)(!0)).push([t.i,".article-info[data-v-0f31a222]{width:100%;margin:0 0 var(--space-normal)}.article-info .value[data-v-0f31a222]{color:var(--s-600)}.input-container[data-v-0f31a222]{margin:0 0 var(--space-normal)}.input-container[data-v-0f31a222] input{margin-bottom:0}","",{version:3,sources:["/home/leonardo/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue"],names:[],mappings:"AACA,+BACE,UAAA,CACA,8BAAA,CACA,sCACE,kBAAA,CAIJ,kCACE,8BAAA,CAEA,wCACE,eAAA",file:"EditCategory.vue",sourcesContent:["\n.article-info {\n  width: 100%;\n  margin: 0 0 var(--space-normal);\n  .value {\n    color: var(--s-600);\n  }\n}\n\n.input-container::v-deep {\n  margin: 0 0 var(--space-normal);\n\n  input {\n    margin-bottom: 0;\n  }\n}\n"]}]),t.exports=e},2080:function(t,e,a){"use strict";a.r(e);a(33),a(44),a(10),a(32),a(9),a(22);var n=a(118),o=a(64),r=a(58),s=a(330),i=a(96);function l(t,e,a,n,o,r,s){try{var i=t[r](s),l=i.value}catch(c){return void a(c)}i.done?e(l):Promise.resolve(l).then(n,o)}var c={components:{CategoryNameIconInput:a(946).a},props:{show:{type:Boolean,default:!0},portalName:{type:String,default:""},locale:{type:String,default:""},category:{type:Object,default:function(){}},selectedPortalSlug:{type:String,default:""}},setup:function(){return{v$:Object(n.a)()}},data:function(){return{id:this.category.id,name:"",icon:"",slug:"",description:""}},validations:{name:{required:r.f,minLength:Object(r.d)(2)},slug:{required:r.f}},computed:{slugError:function(){return this.v$.slug.$error?this.$t("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""}},mounted:function(){this.updateDataFromStore()},methods:{updateDataFromStore:function(){var t=this.category;this.name=t.name,this.icon=t.icon,this.slug=t.slug,this.description=t.description},changeName:function(t){this.name=t,this.slug=Object(s.b)(this.name)},onClickInsertEmoji:function(t){this.icon=t},onUpdate:function(){this.$emit("update")},onClose:function(){this.$emit("cancel")},editCategory:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var a,n,r,s,l,c,E;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.id,n=e.name,r=e.slug,s=e.icon,l=e.description,c={id:a,name:n,icon:s,slug:r,description:l},e.v$.$touch(),!e.v$.$invalid){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,e.$store.dispatch("categories/update",{portalSlug:e.selectedPortalSlug,categoryId:a,categoryObj:c});case 8:e.alertMessage=e.$t("HELP_CENTER.CATEGORY.EDIT.API.SUCCESS_MESSAGE"),e.$track(i.i.EDIT_CATEGORY),e.onClose(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),E=null===t.t0||void 0===t.t0?void 0:t.t0.message,e.alertMessage=E||e.$t("HELP_CENTER.CATEGORY.EDIT.API.ERROR_MESSAGE");case 17:return t.prev=17,Object(o.a)(e.alertMessage),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})),function(){var e=this,a=arguments;return new Promise((function(n,o){var r=t.apply(e,a);function s(t){l(r,n,o,s,i,"next",t)}function i(t){l(r,n,o,s,i,"throw",t)}s(void 0)}))})()}}},E=c,u=(a(1893),a(8)),p=Object(u.a)(E,(function(){var t=this,e=t._self._c;return e("woot-modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("woot-modal-header",{attrs:{"header-title":t.$t("HELP_CENTER.CATEGORY.EDIT.TITLE"),"header-content":t.$t("HELP_CENTER.CATEGORY.EDIT.SUB_TITLE")}}),t._v(" "),e("form",{staticClass:"w-full",on:{submit:function(e){return e.preventDefault(),t.onUpdate.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row w-full mx-0 mt-0 mb-4"},[e("div",{staticClass:"w-[50%]"},[e("label",[e("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.PORTAL")))]),t._v(" "),e("p",{staticClass:"text-slate-600 dark:text-slate-400"},[t._v(t._s(t.portalName))])])]),t._v(" "),e("div",{staticClass:"w-[50%]"},[e("label",[e("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.LOCALE")))]),t._v(" "),e("p",{staticClass:"text-slate-600 dark:text-slate-400"},[t._v(t._s(t.locale))])])])]),t._v(" "),e("CategoryNameIconInput",{attrs:{label:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT"),"has-error":t.v$.name.$error,"error-message":t.$t("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"),"existing-name":t.category.name,"saved-icon":t.category.icon},on:{nameChange:t.changeName,iconChange:t.onClickInsertEmoji}}),t._v(" "),e("woot-input",{staticClass:"w-full",class:{error:t.v$.slug.$error},attrs:{error:t.slugError,label:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT")},on:{input:t.v$.slug.$touch},model:{value:t.slug,callback:function(e){t.slug="string"===typeof e?e.trim():e},expression:"slug"}}),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL"))+"\n        "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER")},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[e("woot-button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL"))+"\n          ")]),t._v(" "),e("woot-button",{on:{click:t.editCategory}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE"))+"\n          ")])],1)])],1)])],1)}),[],!1,null,"0f31a222",null);e.default=p.exports}}]);
//# sourceMappingURL=86-365a055c63368fe8742c.chunk.js.map