(window.webpackJsonp=window.webpackJsonp||[]).push([[65,86],{1784:function(t,e,n){var a=n(65),o=n(1894);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},1893:function(t,e,n){"use strict";n(1784)},1894:function(t,e,n){(e=n(66)(!0)).push([t.i,".article-info[data-v-0f31a222]{width:100%;margin:0 0 var(--space-normal)}.article-info .value[data-v-0f31a222]{color:var(--s-600)}.input-container[data-v-0f31a222]{margin:0 0 var(--space-normal)}.input-container[data-v-0f31a222] input{margin-bottom:0}","",{version:3,sources:["/home/leonardo/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue"],names:[],mappings:"AACA,+BACE,UAAA,CACA,8BAAA,CACA,sCACE,kBAAA,CAIJ,kCACE,8BAAA,CAEA,wCACE,eAAA",file:"EditCategory.vue",sourcesContent:["\n.article-info {\n  width: 100%;\n  margin: 0 0 var(--space-normal);\n  .value {\n    color: var(--s-600);\n  }\n}\n\n.input-container::v-deep {\n  margin: 0 0 var(--space-normal);\n\n  input {\n    margin-bottom: 0;\n  }\n}\n"]}]),t.exports=e},2039:function(t,e,n){var a=n(65),o=n(2365);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},2080:function(t,e,n){"use strict";n.r(e);n(33),n(44),n(10),n(32),n(9),n(22);var a=n(118),o=n(64),r=n(58),A=n(330),s=n(96);function l(t,e,n,a,o,r,A){try{var s=t[r](A),l=s.value}catch(i){return void n(i)}s.done?e(l):Promise.resolve(l).then(a,o)}var i={components:{CategoryNameIconInput:n(946).a},props:{show:{type:Boolean,default:!0},portalName:{type:String,default:""},locale:{type:String,default:""},category:{type:Object,default:function(){}},selectedPortalSlug:{type:String,default:""}},setup:function(){return{v$:Object(a.a)()}},data:function(){return{id:this.category.id,name:"",icon:"",slug:"",description:""}},validations:{name:{required:r.f,minLength:Object(r.d)(2)},slug:{required:r.f}},computed:{slugError:function(){return this.v$.slug.$error?this.$t("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""}},mounted:function(){this.updateDataFromStore()},methods:{updateDataFromStore:function(){var t=this.category;this.name=t.name,this.icon=t.icon,this.slug=t.slug,this.description=t.description},changeName:function(t){this.name=t,this.slug=Object(A.b)(this.name)},onClickInsertEmoji:function(t){this.icon=t},onUpdate:function(){this.$emit("update")},onClose:function(){this.$emit("cancel")},editCategory:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,a,r,A,l,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,a=e.name,r=e.slug,A=e.icon,l=e.description,i={id:n,name:a,icon:A,slug:r,description:l},e.v$.$touch(),!e.v$.$invalid){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,e.$store.dispatch("categories/update",{portalSlug:e.selectedPortalSlug,categoryId:n,categoryObj:i});case 8:e.alertMessage=e.$t("HELP_CENTER.CATEGORY.EDIT.API.SUCCESS_MESSAGE"),e.$track(s.i.EDIT_CATEGORY),e.onClose(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),c=null===t.t0||void 0===t.t0?void 0:t.t0.message,e.alertMessage=c||e.$t("HELP_CENTER.CATEGORY.EDIT.API.ERROR_MESSAGE");case 17:return t.prev=17,Object(o.a)(e.alertMessage),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})),function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function A(t){l(r,a,o,A,s,"next",t)}function s(t){l(r,a,o,A,s,"throw",t)}A(void 0)}))})()}}},c=i,d=(n(1893),n(8)),u=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("woot-modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("woot-modal-header",{attrs:{"header-title":t.$t("HELP_CENTER.CATEGORY.EDIT.TITLE"),"header-content":t.$t("HELP_CENTER.CATEGORY.EDIT.SUB_TITLE")}}),t._v(" "),e("form",{staticClass:"w-full",on:{submit:function(e){return e.preventDefault(),t.onUpdate.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row w-full mx-0 mt-0 mb-4"},[e("div",{staticClass:"w-[50%]"},[e("label",[e("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.PORTAL")))]),t._v(" "),e("p",{staticClass:"text-slate-600 dark:text-slate-400"},[t._v(t._s(t.portalName))])])]),t._v(" "),e("div",{staticClass:"w-[50%]"},[e("label",[e("span",[t._v(t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.LOCALE")))]),t._v(" "),e("p",{staticClass:"text-slate-600 dark:text-slate-400"},[t._v(t._s(t.locale))])])])]),t._v(" "),e("CategoryNameIconInput",{attrs:{label:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT"),"has-error":t.v$.name.$error,"error-message":t.$t("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"),"existing-name":t.category.name,"saved-icon":t.category.icon},on:{nameChange:t.changeName,iconChange:t.onClickInsertEmoji}}),t._v(" "),e("woot-input",{staticClass:"w-full",class:{error:t.v$.slug.$error},attrs:{error:t.slugError,label:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT")},on:{input:t.v$.slug.$touch},model:{value:t.slug,callback:function(e){t.slug="string"===typeof e?e.trim():e},expression:"slug"}}),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL"))+"\n        "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER")},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[e("woot-button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL"))+"\n          ")]),t._v(" "),e("woot-button",{on:{click:t.editCategory}},[t._v("\n            "+t._s(t.$t("HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE"))+"\n          ")])],1)])],1)])],1)}),[],!1,null,"0f31a222",null);e.default=u.exports},2364:function(t,e,n){"use strict";n(2039)},2365:function(t,e,n){(e=n(66)(!0)).push([t.i,'table thead tr th[data-v-d28516d0] {\n\npadding-left: 0px;\n\npadding-top: 0px;\n\nfont-size: 0.875rem;\n\nline-height: 1.25rem;\n\nfont-weight: 500;\n\ntext-transform: none;\n\n--tw-text-opacity: 1;\n\ncolor: hsl(198 6.6% 15.8% / 1)\n}\n@supports (color: hsl(0 0% 0% / 0)) and (top: var(--f)) {\ntable thead tr th[data-v-d28516d0] {\n\ncolor: hsl(198 6.6% 15.8% / var(--tw-text-opacity))\n}\n}\n[data-v-d28516d0]:is([dir="rtl"] table thead tr th) {\n\npadding-left: 0.625rem;\n\npadding-right: 0px\n}\n[data-v-d28516d0]:is(.dark table thead tr th) {\n\n--tw-text-opacity: 1;\n\ncolor: hsl(208 11.7% 91.1% / 1)\n}\n@supports (color: hsl(0 0% 0% / 0)) and (top: var(--f)) {\n[data-v-d28516d0]:is(.dark table thead tr th) {\n\ncolor: hsl(208 11.7% 91.1% / var(--tw-text-opacity))\n}\n}table tbody tr[data-v-d28516d0] {\n\nborder-bottom-width: 0px\n}table tbody tr td[data-v-d28516d0] {\n\npadding-left: 0px;\n\nfont-size: 0.875rem;\n\nline-height: 1.25rem;\n\n--tw-text-opacity: 1;\n\ncolor: hsl(207 5.6% 31.6% / 1)\n}@supports (color: hsl(0 0% 0% / 0)) and (top: var(--f)) {\ntable tbody tr td[data-v-d28516d0] {\n\ncolor: hsl(207 5.6% 31.6% / var(--tw-text-opacity))\n}\n}[data-v-d28516d0]:is([dir="rtl"] table tbody tr td) {\n\npadding-left: 0.625rem;\n\npadding-right: 0px\n}[data-v-d28516d0]:is(.dark table tbody tr td) {\n\n--tw-text-opacity: 1;\n\ncolor: hsl(208 11.7% 91.1% / 1)\n}@supports (color: hsl(0 0% 0% / 0)) and (top: var(--f)) {\n[data-v-d28516d0]:is(.dark table tbody tr td) {\n\ncolor: hsl(208 11.7% 91.1% / var(--tw-text-opacity))\n}\n}.horizontal-line[data-v-d28516d0] {\n\nborder-bottom-width: 1px;\n\nborder-style: solid;\n\n--tw-border-opacity: 1;\n\nborder-color: hsl(209 12.2% 93.2% / 1)\n}@supports (color: hsl(0 0% 0% / 0)) and (top: var(--f)) {\n.horizontal-line[data-v-d28516d0] {\n\nborder-color: hsl(209 12.2% 93.2% / var(--tw-border-opacity))\n}\n}[data-v-d28516d0]:is(.dark .horizontal-line) {\n\n--tw-border-opacity: 1;\n\nborder-color: hsl(207 5.6% 31.6% / 1)\n}@supports (color: hsl(0 0% 0% / 0)) and (top: var(--f)) {\n[data-v-d28516d0]:is(.dark .horizontal-line) {\n\nborder-color: hsl(207 5.6% 31.6% / var(--tw-border-opacity))\n}\n}',"",{version:3,sources:["/home/leonardo/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/CategoryListItem.vue"],names:[],mappings:"AAGI;;AAAA,iBAAA;;AAAA,gBAAA;;AAAA,mBAAA;;AAAA,oBAAA;;AAAA,gBAAA;;AAAA,oBAAA;;AAAA,oBAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA,sBAAA;;AAAA;AAAA;AAAA;;AAAA,oBAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAIA;;AAAA;AAAA,CAEE;;AAAA,iBAAA;;AAAA,mBAAA;;AAAA,oBAAA;;AAAA,oBAAA;;AAAA;AAAA,CAAA;AAAA;;AAAA;AAAA;AAAA,CAAA;;AAAA,sBAAA;;AAAA;AAAA,CAAA;;AAAA,oBAAA;;AAAA;AAAA,CAAA;AAAA;;AAAA;AAAA;AAAA,CAKJ;;AAAA,wBAAA;;AAAA,mBAAA;;AAAA,sBAAA;;AAAA;AAAA,CAAA;AAAA;;AAAA;AAAA;AAAA,CAAA;;AAAA,sBAAA;;AAAA;AAAA,CAAA;AAAA;;AAAA;AAAA;AAAA",file:"CategoryListItem.vue",sourcesContent:["\ntable {\n  thead tr th {\n    @apply text-sm font-medium normal-case text-slate-800 dark:text-slate-100 pl-0 rtl:pl-2.5 rtl:pr-0 pt-0;\n  }\n\n  tbody tr {\n    @apply border-b-0;\n    td {\n      @apply text-sm pl-0 rtl:pl-2.5 rtl:pr-0 text-slate-700 dark:text-slate-100;\n    }\n  }\n}\n.horizontal-line {\n  @apply border-b border-solid border-slate-75 dark:border-slate-700;\n}\n"]}]),t.exports=e},2491:function(t,e,n){"use strict";n.r(e);n(33),n(44),n(83),n(9),n(22);var a=n(383),o=n(199),r=n(363),A=n(64),s=n(96),l=n(5),i={props:{categories:{type:Array,default:function(){return[]}}},methods:{editCategory:function(t){this.$emit("edit",t)},deleteCategory:function(t){this.$emit("delete",t)}}},c=(n(2364),n(8)),d=Object(c.a)(i,(function(){var t=this,e=t._self._c;return e("div",[e("table",{staticClass:"woot-table"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.NAME"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.DESCRIPTION"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.LOCALE"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ARTICLE_COUNT"))+"\n        ")]),t._v(" "),e("th",{attrs:{scope:"col"}})])]),t._v(" "),t._m(0),t._v(" "),e("tbody",t._l(t.categories,(function(n){return e("tr",{key:n.id},[e("td",[e("span",[t._v(t._s(n.icon)+" "+t._s(n.name))])]),t._v(" "),e("td",[e("span",[t._v(t._s(n.description))])]),t._v(" "),e("td",[e("span",[t._v(t._s(n.locale))])]),t._v(" "),e("td",[e("span",[t._v(t._s(n.meta.articles_count))])]),t._v(" "),e("td",[e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT"),expression:"\n              $t(\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.EDIT'\n              )\n            ",modifiers:{"top-end":!0}}],attrs:{size:"tiny",variant:"smooth",icon:"edit","color-scheme":"secondary"},on:{click:function(e){return t.editCategory(n)}}}),t._v(" "),e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE"),expression:"\n              $t(\n                'HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.ACTION_BUTTON.DELETE'\n              )\n            ",modifiers:{"top-end":!0}}],attrs:{size:"tiny",variant:"smooth",icon:"delete","color-scheme":"alert"},on:{click:function(e){return t.deleteCategory(n)}}})],1)])})),0)]),t._v(" "),0===t.categories.length?e("p",{staticClass:"flex justify-center mt-8 text-base text-slate-500 dark:text-slate-300"},[t._v("\n    "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TABLE.EMPTY_TEXT"))+"\n  ")]):t._e()])}),[function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"horizontal-line",attrs:{colspan:"100%"}})])}],!1,null,"d28516d0",null).exports,u=n(1024),E=n(2080);function p(t,e,n,a,o,r,A){try{var s=t[r](A),l=s.value}catch(i){return void n(i)}s.done?e(l):Promise.resolve(l).then(a,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function A(t){p(r,a,o,A,s,"next",t)}function s(t){p(r,a,o,A,s,"throw",t)}A(void 0)}))}}var C={__name:"ListAllCategories",setup:function(t){Object(l.defineComponent)({name:"ListAllCategories"});var e=Object(l.ref)({}),n=Object(l.ref)("en"),i=Object(l.ref)(!1),c=Object(l.ref)(!1),p=Object(o.c)(),C=Object(o.b)(),h=Object(a.a)(),f=Object(A.b)(),T=Object(r.a)().t,g=Object(l.computed)((function(){return h.params.portalSlug})),m=Object(l.computed)((function(){return p["categories/categoriesByLocaleCode"].value(n.value)})),_=Object(l.computed)((function(){var t=g.value;return t?p["portals/portalBySlug"].value(t):p["portals/allPortals"].value[0]})),y=Object(l.computed)((function(){return _.value?_.value.name:""})),b=Object(l.computed)((function(){return _.value?_.value.config.allowed_locales:[]})),R=Object(l.computed)((function(){return b.value.map((function(t){return t.code}))}));function L(t){return O.apply(this,arguments)}function O(){return(O=v(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.dispatch("categories/index",{portalSlug:g.value,locale:e});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=v(regeneratorRuntime.mark((function t(e){var n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,C.dispatch("categories/delete",{portalSlug:g.value,categoryId:e.id});case 4:n=T("HELP_CENTER.CATEGORY.DELETE.API.SUCCESS_MESSAGE"),f(s.i.DELETE_CATEGORY,{hasArticles:0!==(null===e||void 0===e||null===(a=e.meta)||void 0===a?void 0:a.articles_count)}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),o=null===t.t0||void 0===t.t0?void 0:t.t0.message,n=o||T("HELP_CENTER.CATEGORY.DELETE.API.ERROR_MESSAGE");case 12:return t.prev=12,Object(A.a)(n),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))).apply(this,arguments)}return{__sfc:!0,selectedCategory:e,currentLocaleCode:n,showEditCategoryModal:i,showAddCategoryModal:c,getters:p,store:C,route:h,track:f,t:T,currentPortalSlug:g,categoriesByLocaleCode:m,currentPortal:_,currentPortalName:y,allLocales:b,allowedLocaleCodes:R,openAddCategoryModal:function(){c.value=!0},openEditCategoryModal:function(t){e.value=t,i.value=!0},closeAddCategoryModal:function(){c.value=!1},closeEditCategoryModal:function(){i.value=!1},fetchCategoriesByPortalSlugAndLocale:L,deleteCategory:function(t){return w.apply(this,arguments)},changeCurrentCategory:function(t){var e=t.target.value;n.value=e,L(e)},CategoryListItem:d,AddCategory:u.a,EditCategory:E.default}}},h=C,f=Object(c.a)(h,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"w-full max-w-6xl"},[e("header",{staticClass:"flex items-center justify-between mb-4"},[e("div",{staticClass:"flex items-center w-full gap-3"},[e("label",{staticClass:"mb-0 text-base font-normal text-slate-800 dark:text-slate-100"},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.TITLE"))+"\n      ")]),t._v(" "),e("select",{staticClass:"w-[15%] h-8 mb-0 py-0.5",domProps:{value:n.currentLocaleCode},on:{change:n.changeCurrentCategory}},t._l(n.allowedLocaleCodes,(function(n){return e("option",{key:n,domProps:{value:n}},[t._v("\n          "+t._s(n)+"\n        ")])})),0)]),t._v(" "),e("div",{staticClass:"items-center flex-none"},[e("woot-button",{attrs:{size:"small",variant:"smooth","color-scheme":"primary",icon:"add"},on:{click:n.openAddCategoryModal}},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.EDIT.CATEGORIES.NEW_CATEGORY"))+"\n      ")])],1)]),t._v(" "),e("div",{staticClass:"category-list"},[e(n.CategoryListItem,{attrs:{categories:n.categoriesByLocaleCode},on:{delete:n.deleteCategory,edit:n.openEditCategoryModal}})],1),t._v(" "),n.showEditCategoryModal?e(n.EditCategory,{attrs:{show:n.showEditCategoryModal,"portal-name":n.currentPortalName,locale:n.selectedCategory.locale,category:n.selectedCategory,"selected-portal-slug":n.currentPortalSlug},on:{"update:show":function(t){n.showEditCategoryModal=t},cancel:n.closeEditCategoryModal}}):t._e(),t._v(" "),n.showAddCategoryModal?e(n.AddCategory,{attrs:{show:n.showAddCategoryModal,"portal-name":n.currentPortalName,locale:n.currentLocaleCode},on:{"update:show":function(t){n.showAddCategoryModal=t},cancel:n.closeAddCategoryModal}}):t._e()],1)}),[],!1,null,null,null);e.default=f.exports}}]);
//# sourceMappingURL=65-2237cdd37d57a796542d.chunk.js.map