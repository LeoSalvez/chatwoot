(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1622:function(e,t,n){"use strict";var r={props:{label:{type:String,default:""},name:{type:String,required:!0},icon:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""}}},a=n(8),s=Object(a.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-1"},[e.label?t("label",{staticClass:"flex justify-between text-sm font-medium leading-6 text-slate-900 dark:text-white",class:{"text-red-500":e.hasError},attrs:{for:e.name}},[e._t("label",(function(){return[e._v("\n      "+e._s(e.label)+"\n    ")]})),e._v(" "),e._t("rightOfLabel")],2):e._e(),e._v(" "),t("div",{staticClass:"w-full"},[t("div",{staticClass:"flex items-center relative w-full"},[e.icon?t("fluent-icon",{staticClass:"absolute left-2 transform text-slate-400 dark:text-slate-600 w-5 h-5",attrs:{size:"16",icon:e.icon}}):e._e(),e._v(" "),e._t("default")],2),e._v(" "),e.errorMessage&&e.hasError?t("span",{staticClass:"text-xs text-red-400 leading-2"},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]):e._e()])])}),[],!1,null,null,null);t.a=s.exports},1915:function(e,t,n){"use strict";n(51);var r=n(5),a={__name:"TableHeaderCell",props:{span:{type:Number,required:!0},label:{type:String,required:!0}},setup:function(e){var t=e,n=Object(r.computed)((function(){return 1===t.span?"col-span-1":2===t.span?"col-span-2":3===t.span?"col-span-3":4===t.span?"col-span-4":5===t.span?"col-span-5":6===t.span?"col-span-6":7===t.span?"col-span-7":8===t.span?"col-span-8":9===t.span?"col-span-9":10===t.span?"col-span-10":"col-span-1"}));return{__sfc:!0,props:t,spanClass:n}}},s=n(8),i=Object(s.a)(a,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"flex items-center px-0 py-2 text-xs font-medium text-left uppercase text-slate-700 dark:text-slate-100 rtl:text-right",class:e._self._setupProxy.spanClass},[e._t("default",(function(){return[e._v("\n    "+e._s(e.label)+"\n  ")]}))],2)}),[],!1,null,null,null);t.a=i.exports},1979:function(e,t,n){var r=n(65),a=n(2251);"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var s={insert:"head",singleton:!1};r(a,s);e.exports=a.locals||{}},2250:function(e,t,n){"use strict";n(1979)},2251:function(e,t,n){(t=n(66)(!0)).push([e.i,"\n.select-caret[data-v-4a774a62] {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='32' height='24' viewBox='0 0 32 24'><polygon points='0,0 32,0 16,24' style='fill: rgb%28110, 111, 115%29'></polygon></svg>\");\n  background-origin: content-box;\n  background-position: right -1rem center;\n  background-repeat: no-repeat;\n  background-size: 9px 6px;\n}\n","",{version:3,sources:["/home/leonardo/chatwoot/app/javascript/v3/components/Form/Select.vue"],names:[],mappings:";AAqFA;EACA,wOAAA;EACA,8BAAA;EACA,uCAAA;EACA,4BAAA;EACA,wBAAA;AACA",file:"Select.vue",sourcesContent:["<script>\nimport WithLabel from './WithLabel.vue';\nexport default {\n  components: {\n    WithLabel,\n  },\n  props: {\n    id: {\n      type: String,\n      default: '',\n    },\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n      default: '',\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    hasError: {\n      type: Boolean,\n      default: false,\n    },\n    errorMessage: {\n      type: String,\n      default: '',\n    },\n  },\n  methods: {\n    onInput(e) {\n      this.$emit('input', e.target.value);\n    },\n  },\n};\n<\/script>\n\n<template>\n  <WithLabel\n    :label=\"label\"\n    :icon=\"icon\"\n    :name=\"name\"\n    :has-error=\"hasError\"\n    :error-message=\"errorMessage\"\n  >\n    <select\n      :id=\"id\"\n      :selected=\"value\"\n      :name=\"name\"\n      :class=\"{\n        'text-ash-400': !value,\n        'text-ash-900': value,\n        'pl-9': icon,\n      }\"\n      class=\"block w-full px-3 py-2 pr-6 mb-0 border-0 shadow-sm outline-none appearance-none rounded-xl select-caret ring-ash-200 ring-1 ring-inset placeholder:text-ash-900 focus:ring-2 focus:ring-inset focus:ring-primary-500 sm:text-sm sm:leading-6\"\n      @input=\"onInput\"\n    >\n      <option value=\"\" disabled selected class=\"hidden\">\n        {{ placeholder }}\n      </option>\n      <slot>\n        <option v-for=\"opt in options\" :key=\"opt.value\" :value=\"opt.value\">\n          {{ opt.label }}\n        </option>\n      </slot>\n    </select>\n  </WithLabel>\n</template>\n\n<style scoped>\n.select-caret {\n  background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='32' height='24' viewBox='0 0 32 24'><polygon points='0,0 32,0 16,24' style='fill: rgb%28110, 111, 115%29'></polygon></svg>\");\n  background-origin: content-box;\n  background-position: right -1rem center;\n  background-repeat: no-repeat;\n  background-size: 9px 6px;\n}\n</style>\n"]}]),e.exports=t},2461:function(e,t,n){"use strict";n.r(t);n(33),n(41),n(44),n(83),n(10),n(32),n(9),n(34),n(14),n(17),n(20),n(67),n(59),n(24),n(21),n(29),n(23),n(30),n(22);var r=n(38),a=n(64),s=n(727),i=n(52),o=n(901),l=n(320),u=n(5),c=(n(205),n(51),n(555)),d={__name:"InitialsAvatar",props:{name:{type:String,default:""},size:{type:Number,default:72}},setup:function(e){var t=e,n={1:"bg-ash-200 text-ash-900",2:"bg-amber-200 text-amber-900",3:"bg-pink-100 text-pink-800",4:"bg-purple-100 text-purple-800",5:"bg-indigo-100 text-indigo-800",6:"bg-grass-100 text-grass-800",7:"bg-mint-100 text-mint-800",8:"bg-orange-100 text-orange-800"},r=Object(u.computed)((function(){return{fontSize:"".concat(Math.floor(t.size/2.5),"px")}})),a=Object(u.computed)((function(){return n[t.name.length%8+1]})),s=Object(u.computed)((function(){return Object(c.b)(t.name)}));return{__sfc:!0,props:t,colors:n,style:r,colorClass:a,initial:s}}},p=n(8),f=Object(p.a)(d,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"rounded-xl flex leading-[100%] font-medium items-center justify-center text-center cursor-default",class:`h-[${e.size}px] w-[${e.size}px] ${n.colorClass}`,style:n.style,attrs:{"aria-hidden":"true"}},[e._t("default",(function(){return[e._v(e._s(n.initial))]}))],2)}),[],!1,null,null,null).exports;function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(l){o=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return s}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={__name:"ProfileAvatar",props:{src:{type:String,default:""},name:{type:String,default:""}},emits:["change","delete"],setup:function(e,t){var n=t.emit,r=e,a=Object(u.ref)(!1),s=Object(u.ref)(!1),i=Object(u.ref)(null),o=Object(u.computed)((function(){return r.src&&!s.value}));return{__sfc:!0,props:r,emit:n,hasImageLoaded:a,imageLoadedError:s,fileInputRef:i,shouldShowImage:o,onImageLoadError:function(){s.value=!0},onImageLoad:function(){a.value=!0,s.value=!1},openFileInput:function(){i.value.click()},onImageUpload:function(e){var t=m(e.target.files,1)[0];n("change",{file:t,url:t?URL.createObjectURL(t):null})},onAvatarDelete:function(){n("delete")},InitialsAvatar:f}}},g=Object(p.a)(_,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"relative rounded-xl h-[72px] w-[72px] cursor-pointe group"},[n.shouldShowImage?t("img",{staticClass:"rounded-xl h-[72px] w-[72px]",attrs:{alt:e.name,src:e.src,draggable:"false"},on:{load:n.onImageLoad,error:n.onImageLoadError}}):n.shouldShowImage?e._e():t(n.InitialsAvatar,{attrs:{name:e.name,size:72}}),e._v(" "),t("input",{ref:"fileInputRef",attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif, image/webp",hidden:""},on:{change:n.onImageUpload}}),e._v(" "),t("div",{staticClass:"hidden group-hover:block"},[e.src?t("button",{staticClass:"absolute z-10 flex items-center justify-center w-6 h-6 p-1 border border-white rounded-full select-none dark:border-ash-75 reset-base -top-2 -right-2 bg-ash-300",on:{click:n.onAvatarDelete}},[t("fluent-icon",{staticClass:"text-ash-900",attrs:{icon:"dismiss",size:"16"}})],1):e._e(),e._v(" "),t("button",{staticClass:"reset-base absolute h-[72px] w-[72px] top-0 left-0 rounded-xl select-none flex items-center justify-center bg-modal-backdrop-dark dark:bg-modal-backdrop-dark",on:{click:n.openFileInput}},[t("fluent-icon",{staticClass:"text-white",attrs:{icon:"avatar-upload",size:"32"}})],1)])],1)}),[],!1,null,null,null).exports,S=n(733),v={__name:"UserProfilePicture",props:{src:{type:String,default:""},name:{type:String,default:""}},emits:["change","delete"],setup:function(e,t){var n=t.emit,r=e,a=Object(u.computed)((function(){return Object(S.b)(r.name)}));return{__sfc:!0,props:r,emit:n,userNameWithoutEmoji:a,updateProfilePicture:function(e){n("change",e)},deleteProfilePicture:function(){n("delete")},ProfileAvatar:g}}},E=Object(p.a)(v,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"flex flex-col gap-2"},[t("span",{staticClass:"text-sm font-medium text-ash-900"},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.FORM.PICTURE"))+"\n  ")]),e._v(" "),t(n.ProfileAvatar,{attrs:{src:e.src,name:n.userNameWithoutEmoji},on:{change:n.updateProfilePicture,delete:n.deleteProfilePicture}})],1)}),[],!1,null,null,null).exports,b=(n(77),{__name:"Button",props:{variant:{type:String,default:"solid",validator:function(e){return["outline","ghost","solid"].includes(e)}},size:{type:String,default:"large",validator:function(e){return["medium","large"].includes(e)}},icon:{type:String,default:""},colorScheme:{type:String,default:"primary",validator:function(e){return["primary","secondary","danger"].includes(e)}},trailingIcon:{type:Boolean,default:!1}},emits:["click"],setup:function(e,t){var n=t.emit,r=e,a=Object(u.useAttrs)(),s={outline:"outline outline-1 -outline-offset-1",ghost:"hover:text-600 active:text-600 focus:outline focus:outline-offset-1",solid:"hover:bg-700 active:bg-700 focus:outline focus:outline-offset-1 focus:outline-2"},i=Object(u.computed)((function(){if(a.disabled)return"bg-ash-200 text-ash-600 cursor-not-allowed";var e={primary:{outline:"".concat(s.outline," outline-primary-400 hover:text-primary-600 active:text-primary-600"),ghost:"".concat(s.ghost," focus:outline-primary-400"),solid:"".concat(s.solid," bg-primary-600 text-white focus:outline-primary-400")},secondary:{outline:"".concat(s.outline," outline-ash-400 hover:text-ash-900 active:text-ash-900 "),ghost:"".concat(s.ghost," focus:outline-ash-400"),solid:"".concat(s.solid," bg-ash-100 text-ash-900 focus:outline-ash-400")},danger:{outline:"".concat(s.outline," outline-ruby-400 hover:text-ruby-600 active:text-ruby-600"),ghost:"".concat(s.ghost," focus:outline-ruby-400"),solid:"".concat(s.solid," bg-ruby-600 text-white focus:outline-ruby-400")}}[r.colorScheme];return e[r.variant]||e.solid})),o=Object(u.computed)((function(){return"medium"===r.size?"h-8 px-3 py-1.5 text-sm":"h-10 px-4 py-2.5 text"})),l=Object(u.computed)((function(){return[i.value,o.value]}));return{__sfc:!0,props:r,emit:n,attrs:a,baseClasses:s,colorClass:i,sizeClass:o,buttonClasses:l,onClick:function(){r.disabled||n("click")}}}}),O=Object(p.a)(b,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("button",e._b({staticClass:"inline-flex items-center gap-1 text-sm font-medium reset-base rounded-xl w-fit",class:n.buttonClasses,on:{click:n.onClick}},"button",e.$attrs,!1),[e.icon&&!e.trailingIcon?t("fluent-icon",{staticClass:"flex-shrink-0",attrs:{size:"1.16em",icon:e.icon}}):e._e(),e._v(" "),e.$slots.default?t("span",{staticClass:"text-sm font-medium truncate ltr:text-left rtl:text-right"},[e._t("default")],2):e._e(),e._v(" "),e.icon&&e.trailingIcon?t("fluent-icon",{staticClass:"flex-shrink-0",attrs:{size:"1.16em",icon:e.icon}}):e._e()],1)}),[],!1,null,null,null).exports,I=n(118),T=n(58);function x(e,t,n,r,a,s,i){try{var o=e[s](i),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,a)}var y={components:{FormButton:O},props:{name:{type:String,default:""},email:{type:String,default:""},displayName:{type:String,default:""},emailEnabled:{type:Boolean,default:!1}},setup:function(){return{v$:Object(I.a)()}},data:function(){return{userName:this.name,userDisplayName:this.displayName,userEmail:this.email,inputStyles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px",marginBottom:"2px"}}},validations:{userName:{required:T.f,minLength:Object(T.d)(1)},userDisplayName:{},userEmail:{required:T.f,email:T.b}},watch:{name:{handler:function(e){this.userName=e},immediate:!0},displayName:{handler:function(e){this.userDisplayName=e},immediate:!0},email:{handler:function(e){this.userEmail=e},immediate:!0}},methods:{updateUser:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.v$.$touch(),!t.v$.$invalid){e.next=4;break}return Object(a.a)(t.$t("PROFILE_SETTINGS.FORM.ERROR")),e.abrupt("return");case 4:t.$emit("updateUser",{name:t.userName,displayName:t.userDisplayName,email:t.userEmail});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){x(s,r,a,i,o,"next",e)}function o(e){x(s,r,a,i,o,"throw",e)}i(void 0)}))})()}}},N=y,C=Object(p.a)(N,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"flex flex-col gap-4",on:{submit:function(t){return t.preventDefault(),e.updateUser("profile")}}},[t("woot-input",{class:{error:e.v$.userName.$error},attrs:{styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.NAME.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.NAME.PLACEHOLDER"),error:`${e.v$.userName.$error?e.$t("PROFILE_SETTINGS.FORM.NAME.ERROR"):""}`},on:{input:e.v$.userName.$touch},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),t("woot-input",{class:{error:e.v$.userDisplayName.$error},attrs:{styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.DISPLAY_NAME.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.DISPLAY_NAME.PLACEHOLDER"),error:`${e.v$.userDisplayName.$error?e.$t("PROFILE_SETTINGS.FORM.DISPLAY_NAME.ERROR"):""}`},on:{input:e.v$.userDisplayName.$touch},model:{value:e.userDisplayName,callback:function(t){e.userDisplayName=t},expression:"userDisplayName"}}),e._v(" "),e.emailEnabled?t("woot-input",{class:{error:e.v$.userEmail.$error},attrs:{styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.EMAIL.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.EMAIL.PLACEHOLDER"),error:`${e.v$.userEmail.$error?e.$t("PROFILE_SETTINGS.FORM.EMAIL.ERROR"):""}`},on:{input:e.v$.userEmail.$touch},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}):e._e(),e._v(" "),t("FormButton",{attrs:{type:"submit","color-scheme":"primary",variant:"solid",size:"large"}},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.BTN_TEXT"))+"\n  ")])],1)}),[],!1,null,null,null).exports,A=n(900),R=n(867),P={__name:"MessageSignature",props:{messageSignature:{type:String,default:""}},emits:["updateSignature"],setup:function(e,t){var n=t.emit,r=e,a=R.d,s=Object(u.ref)(r.messageSignature);Object(u.watch)((function(){var e;return null!==(e=r.messageSignature)&&void 0!==e?e:""}),(function(e){s.value=e}));return{__sfc:!0,props:r,emit:n,customEditorMenuList:a,signature:s,updateSignature:function(){n("updateSignature",s.value)},WootMessageEditor:A.a,FormButton:O}}},F=Object(p.a)(P,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("form",{staticClass:"flex flex-col gap-6",on:{submit:function(e){return e.preventDefault(),n.updateSignature()}}},[t(n.WootMessageEditor,{staticClass:"message-editor h-[10rem] !px-3",attrs:{id:"message-signature-input","is-format-mode":"",placeholder:e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE.PLACEHOLDER"),"enabled-menu-options":n.customEditorMenuList,"enable-suggestions":!1,"show-image-resize-toolbar":""},model:{value:n.signature,callback:function(e){n.signature=e},expression:"signature"}}),e._v(" "),t(n.FormButton,{attrs:{type:"submit","color-scheme":"primary",variant:"solid",size:"large"}},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.BTN_TEXT"))+"\n  ")])],1)}),[],!1,null,null,null).exports,w={__name:"HotKeyCard",props:{active:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},lightImage:{type:String,default:""},darkImage:{type:String,default:""}},setup:function(e){return{__sfc:!0}}},k=Object(p.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-col gap-4 w-full h-fit sm:max-h-[220px] p-4 sm:max-w-[350px] rounded-md border border-solid border-ash-200",class:{"border-primary-300 ":e.active},on:{click:function(t){return e.$emit("click")}}},[t("div",{staticClass:"flex flex-col gap-2 items-center w-full rounded-t-[5px]"},[t("div",{staticClass:"flex items-center justify-between w-full gap-1"},[t("div",{staticClass:"flex items-center text-base font-medium text-ash-900"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),t("input",{staticClass:"shadow cursor-pointer grid place-items-center border-2 border-ash-200 appearance-none rounded-full w-5 h-5 checked:bg-primary-600 before:content-[''] before:bg-primary-600 before:border-4 before:rounded-full before:border-ash-25 checked:before:w-[18px] checked:before:h-[18px] checked:border checked:border-primary-600",attrs:{type:"radio",name:`hotkey-${e.title}`},domProps:{checked:e.active}})]),e._v(" "),t("span",{staticClass:"text-ash-900 text-sm line-clamp-2 leading-[1.4] text-start"},[e._v("\n      "+e._s(e.description)+"\n    ")])]),e._v(" "),t("div",[t("img",{staticClass:"block object-cover w-full dark:hidden",attrs:{src:e.lightImage,alt:`Light themed image for ${e.title}`}}),e._v(" "),t("img",{staticClass:"hidden object-cover w-full dark:block",attrs:{src:e.darkImage,alt:`Dark themed image for ${e.title}`}})])])}),[],!1,null,null,null).exports;function L(e,t,n,r,a,s,i){try{var o=e[s](i),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,a)}var $={components:{FormButton:O},setup:function(){return{v$:Object(I.a)()}},data:function(){return{currentPassword:"",password:"",passwordConfirmation:"",isPasswordChanging:!1,errorMessage:"",inputStyles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px",marginBottom:"2px"}}},validations:{currentPassword:{required:T.f},password:{minLength:Object(T.d)(6)},passwordConfirmation:{minLength:Object(T.d)(6),isEqPassword:function(e){return e===this.password}}},computed:{isButtonDisabled:function(){return!this.currentPassword||!this.passwordConfirmation||!this.v$.passwordConfirmation.isEqPassword}},methods:{changePassword:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.v$.$touch(),!t.v$.$invalid){e.next=4;break}return Object(a.a)(t.$t("PROFILE_SETTINGS.FORM.ERROR")),e.abrupt("return");case 4:return n=t.$t("PROFILE_SETTINGS.PASSWORD_UPDATE_SUCCESS"),e.prev=5,e.next=8,t.$store.dispatch("updateProfile",{password:t.password,password_confirmation:t.passwordConfirmation,current_password:t.currentPassword});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),n=Object(i.e)(e.t0)||t.$t("RESET_PASSWORD.API.ERROR_MESSAGE");case 13:return e.prev=13,Object(a.a)(n),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,10,13,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){L(s,r,a,i,o,"next",e)}function o(e){L(s,r,a,i,o,"throw",e)}i(void 0)}))})()}}},M=$,j=Object(p.a)(M,(function(){var e=this,t=e._self._c;return t("form",{on:{submit:function(t){return t.preventDefault(),e.changePassword()}}},[t("div",{staticClass:"flex flex-col w-full gap-4"},[t("woot-input",{class:{error:e.v$.currentPassword.$error},attrs:{type:"password",styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.CURRENT_PASSWORD.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.CURRENT_PASSWORD.PLACEHOLDER"),error:`${e.v$.currentPassword.$error?e.$t("PROFILE_SETTINGS.FORM.CURRENT_PASSWORD.ERROR"):""}`},on:{input:e.v$.currentPassword.$touch},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}}),e._v(" "),t("woot-input",{class:{error:e.v$.password.$error},attrs:{type:"password",styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.PASSWORD.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.PASSWORD.PLACEHOLDER"),error:`${e.v$.password.$error?e.$t("PROFILE_SETTINGS.FORM.PASSWORD.ERROR"):""}`},on:{input:e.v$.password.$touch},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),t("woot-input",{class:{error:e.v$.passwordConfirmation.$error},attrs:{type:"password",styles:e.inputStyles,label:e.$t("PROFILE_SETTINGS.FORM.PASSWORD_CONFIRMATION.LABEL"),placeholder:e.$t("PROFILE_SETTINGS.FORM.PASSWORD_CONFIRMATION.PLACEHOLDER"),error:`${e.v$.passwordConfirmation.$error?e.$t("PROFILE_SETTINGS.FORM.PASSWORD_CONFIRMATION.ERROR"):""}`},on:{input:e.v$.passwordConfirmation.$touch},model:{value:e.passwordConfirmation,callback:function(t){e.passwordConfirmation=t},expression:"passwordConfirmation"}}),e._v(" "),t("FormButton",{attrs:{type:"submit","color-scheme":"primary",variant:"solid",size:"large",disabled:e.isButtonDisabled}},[e._v("\n      "+e._s(e.$t("PROFILE_SETTINGS.FORM.PASSWORD_SECTION.BTN_TEXT"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,G=(n(93),n(1915)),D={__name:"CheckBox",props:{isChecked:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["update"],setup:function(e,t){var n=t.emit,r=e,a=Object(u.computed)({get:function(){return r.isChecked},set:function(e){return n("update",r.value,e)}});return{__sfc:!0,props:r,emit:n,checked:a}}},U=Object(p.a)(D,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("input",{directives:[{name:"model",rawName:"v-model",value:n.checked,expression:"checked"}],staticClass:"flex-shrink-0 mt-0.5 border-ash-200 border bg-ash-50 checked:border-none checked:bg-primary-600 dark:checked:bg-primary-600 shadow-sm appearance-none rounded-[4px] w-4 h-4 focus:ring-1 after:content-[''] after:text-white checked:after:content-['\u2713'] after:flex after:items-center after:justify-center after:text-center after:text-xs after:font-bold after:relative",attrs:{id:e.value,type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(n.checked)?e._i(n.checked,e.value)>-1:n.checked},on:{change:function(t){var r=n.checked,a=t.target,s=!!a.checked;if(Array.isArray(r)){var i=e.value,o=e._i(r,i);a.checked?o<0&&(n.checked=r.concat([i])):o>-1&&(n.checked=r.slice(0,o).concat(r.slice(o+1)))}else n.checked=s}}})}),[],!1,null,null,null).exports,B=n(892),W=n(113),z={props:{value:{type:Boolean,default:!1}},methods:{onClick:function(){this.$emit("input",!this.value)}}},H=Object(p.a)(z,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"relative flex-shrink-0 h-4 p-0 border-none shadow-inner w-7 rounded-3xl",class:e.value?"bg-primary-600 shadow-primary-800":"shadow-ash-400 bg-ash-200",attrs:{type:"button",role:"switch","aria-checked":e.value.toString()},on:{click:e.onClick}},[t("span",{staticClass:"rounded-full bg-white top-0.5 absolute dark:bg-white w-3 h-3 translate-y-0 duration-200 transition-transform ease-in-out",class:e.value?"ltr:translate-x-0 rtl:translate-x-[12px]":"ltr:-translate-x-[12px] rtl:translate-x-0",attrs:{"aria-hidden":"true"}})])}),[],!1,null,null,null).exports,Y=[{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.CONVERSATION_CREATED",value:"conversation_creation"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.CONVERSATION_ASSIGNED",value:"conversation_assignment"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.CONVERSATION_MENTION",value:"conversation_mention"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.ASSIGNED_CONVERSATION_NEW_MESSAGE",value:"assigned_conversation_new_message"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.PARTICIPATING_CONVERSATION_NEW_MESSAGE",value:"participating_conversation_new_message"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.SLA_MISSED_FIRST_RESPONSE",value:"sla_missed_first_response"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.SLA_MISSED_NEXT_RESPONSE",value:"sla_missed_next_response"},{label:"PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPES.SLA_MISSED_RESOLUTION",value:"sla_missed_resolution"}],q=[{value:"none",label:"none"},{value:"mine",label:"mine"},{value:"all",label:"all"}];function K(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,a,s,i){try{var o=e[s](i),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,a)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={components:{TableHeaderCell:G.a,FormSwitch:H,CheckBox:U},data:function(){return{selectedEmailFlags:[],selectedPushFlags:[],enableAudioAlerts:!1,hasEnabledPushPermissions:!1,notificationTypes:Y}},computed:Q(Q({},Object(r.mapGetters)({accountId:"getCurrentAccountId",emailFlags:"userNotificationSettings/getSelectedEmailFlags",pushFlags:"userNotificationSettings/getSelectedPushFlags",isFeatureEnabledonAccount:"accounts/isFeatureEnabledonAccount"})),{},{hasPushAPISupport:function(){return!!("Notification"in window)},isSLAEnabled:function(){return this.isFeatureEnabledonAccount(this.accountId,W.a.SLA)},filteredNotificationTypes:function(){var e=this;return this.notificationTypes.filter((function(t){return!!e.isSLAEnabled||!["sla_missed_first_response","sla_missed_next_response","sla_missed_resolution"].includes(t.value)}))}}),watch:{emailFlags:function(e){this.selectedEmailFlags=e},pushFlags:function(e){this.selectedPushFlags=e}},mounted:function(){Object(B.a)()&&this.getPushSubscription(),this.$store.dispatch("userNotificationSettings/get")},methods:{checkFlagStatus:function(e,t){return("email"===e?this.selectedEmailFlags:this.selectedPushFlags).includes("".concat(e,"_").concat(t))},onRegistrationSuccess:function(){this.hasEnabledPushPermissions=!0},onRequestPermissions:function(){Object(B.c)({onSuccess:this.onRegistrationSuccess})},getPushSubscription:function(){var e=this;Object(B.d)((function(t){return t.pushManager.getSubscription().then((function(t){e.hasEnabledPushPermissions=!!t})).catch((function(e){return console.log(e)}))}))},updateNotificationSettings:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.$store.dispatch("userNotificationSettings/update",{selectedEmailFlags:t.selectedEmailFlags,selectedPushFlags:t.selectedPushFlags}),Object(a.a)(t.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))}catch(n){Object(a.a)(t.$t("PROFILE_SETTINGS.FORM.API.UPDATE_ERROR"))}case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){X(s,r,a,i,o,"next",e)}function o(e){X(s,r,a,i,o,"throw",e)}i(void 0)}))})()},handleInput:function(e,t){"email"===e?this.handleEmailInput(t):this.handlePushInput(t)},handleEmailInput:function(e){this.selectedEmailFlags=this.toggleInput(this.selectedEmailFlags,e),this.updateNotificationSettings()},handlePushInput:function(e){this.selectedPushFlags=this.toggleInput(this.selectedPushFlags,e),this.updateNotificationSettings()},toggleInput:function(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(K(e),[t])}}},te=ee,ne=Object(p.a)(te,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col gap-6",attrs:{id:"profile-settings-notifications"}},[t("div",{staticClass:"hidden sm:block"},[t("div",{staticClass:"grid content-center h-12 grid-cols-12 gap-4 py-0 rounded-t-xl"},[t("TableHeaderCell",{attrs:{span:7,label:"`${$t('PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPE_TITLE')}`"}},[t("span",{staticClass:"text-sm font-normal normal-case text-ash-800"},[e._v("\n          "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.TYPE_TITLE"))+"\n        ")])]),e._v(" "),t("TableHeaderCell",{attrs:{span:2,label:"`${$t('PROFILE_SETTINGS.FORM.NOTIFICATIONS.EMAIL')}`"}},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900"},[e._v("\n          "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.EMAIL"))+"\n        ")])]),e._v(" "),t("TableHeaderCell",{attrs:{span:3,label:"`${$t('PROFILE_SETTINGS.FORM.NOTIFICATIONS.PUSH')}`"}},[t("div",{staticClass:"flex items-center justify-between gap-1"},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900 whitespace-nowrap"},[e._v("\n            "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.PUSH"))+"\n          ")])])])],1),e._v(" "),e._l(e.filteredNotificationTypes,(function(n,r){return t("div",{key:r},[t("div",{staticClass:"grid items-center content-center h-12 grid-cols-12 gap-4 py-0 rounded-t-xl"},[t("div",{staticClass:"flex flex-row items-start gap-2 col-span-7 px-0 py-2 text-sm tracking-[0.5] rtl:text-right"},[t("span",{staticClass:"text-sm text-ash-900"},[e._v("\n            "+e._s(e.$t(n.label))+"\n          ")])]),e._v(" "),e._l(["email","push"],(function(r,a){return t("div",{key:a,staticClass:"flex items-start gap-2 px-0 text-sm tracking-[0.5] text-left rtl:text-right",class:"col-span-"+("push"===r?3:2)},[t("CheckBox",{attrs:{value:`${r}_${n.value}`,"is-checked":e.checkFlagStatus(r,n.value,e.selectedPushFlags)},on:{update:t=>e.handleInput(r,t)}})],1)}))],2)])}))],2),e._v(" "),t("div",{staticClass:"flex flex-col gap-6 sm:hidden"},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900"},[e._v("\n      "+e._s(e.$t("PROFILE_SETTINGS.FORM.EMAIL_NOTIFICATIONS_SECTION.TITLE"))+"\n    ")]),e._v(" "),t("div",{staticClass:"flex flex-col gap-4"},e._l(e.filteredNotificationTypes,(function(n,r){return t("div",{key:r,staticClass:"flex flex-row items-start gap-2"},[t("CheckBox",{attrs:{id:`email_${n.value}`,value:`email_${n.value}`,"is-checked":e.checkFlagStatus("email",n.value)},on:{update:e.handleEmailInput}}),e._v(" "),t("span",{staticClass:"text-sm text-ash-900"},[e._v(e._s(e.$t(n.label)))])],1)})),0),e._v(" "),t("div",{staticClass:"flex items-center justify-start gap-2"},[t("span",{staticClass:"text-sm font-medium normal-case text-ash-900"},[e._v("\n        "+e._s(e.$t("PROFILE_SETTINGS.FORM.PUSH_NOTIFICATIONS_SECTION.TITLE"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"flex flex-col gap-4"},e._l(e.filteredNotificationTypes,(function(n,r){return t("div",{key:r,staticClass:"flex flex-row items-start gap-2"},[t("CheckBox",{attrs:{id:`push_${n.value}`,value:`push_${n.value}`,"is-checked":e.checkFlagStatus("push",n.value)},on:{update:e.handlePushInput}}),e._v(" "),t("span",{staticClass:"text-sm text-ash-900"},[e._v(e._s(e.$t(n.label)))])],1)})),0)]),e._v(" "),t("div",{staticClass:"flex items-center justify-between w-full gap-2 p-4 border border-solid border-ash-200 rounded-xl"},[t("div",{staticClass:"flex flex-row items-center gap-2"},[t("fluent-icon",{staticClass:"flex-shrink-0 text-ash-900",attrs:{icon:"alert",size:"18"}}),e._v(" "),t("span",{staticClass:"text-sm text-ash-900"},[e._v("\n        "+e._s(e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.BROWSER_PERMISSION"))+"\n      ")])],1),e._v(" "),t("FormSwitch",{attrs:{value:e.hasEnabledPushPermissions},on:{input:e.onRequestPermissions}})],1)])}),[],!1,null,null,null).exports,re={components:{WithLabel:n(1622).a},props:{id:{type:String,default:""},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},name:{type:String,required:!0},icon:{type:String,default:""},label:{type:String,required:!0},value:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""}},methods:{onInput:function(e){this.$emit("input",e.target.value)}}},ae=(n(2250),Object(p.a)(re,(function(){var e=this,t=e._self._c;return t("WithLabel",{attrs:{label:e.label,icon:e.icon,name:e.name,"has-error":e.hasError,"error-message":e.errorMessage}},[t("select",{staticClass:"block w-full px-3 py-2 pr-6 mb-0 border-0 shadow-sm outline-none appearance-none rounded-xl select-caret ring-ash-200 ring-1 ring-inset placeholder:text-ash-900 focus:ring-2 focus:ring-inset focus:ring-primary-500 sm:text-sm sm:leading-6",class:{"text-ash-400":!e.value,"text-ash-900":e.value,"pl-9":e.icon},attrs:{id:e.id,selected:e.value,name:e.name},on:{input:e.onInput}},[t("option",{staticClass:"hidden",attrs:{value:"",disabled:"",selected:""}},[e._v("\n      "+e._s(e.placeholder)+"\n    ")]),e._v(" "),e._t("default",(function(){return e._l(e.options,(function(n){return t("option",{key:n.value,domProps:{value:n.value}},[e._v("\n        "+e._s(n.label)+"\n      ")])}))}))],2)])}),[],!1,null,"4a774a62",null).exports),se={__name:"AudioAlertTone",props:{value:{type:String,required:!0,validator:function(e){return["ding","bell"].includes(e)}},label:{type:String,default:""}},emits:["change"],setup:function(e,t){var n=t.emit,r=e,a=Object(u.computed)((function(){return[{value:"ding",label:"Ding"},{value:"bell",label:"Bell"}]})),s=Object(u.computed)({get:function(){return r.value},set:function(e){n("change",e)}});return{__sfc:!0,props:r,emit:n,alertTones:a,selectedValue:s,FormSelect:ae}}},ie=Object(p.a)(se,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.FormSelect,{staticClass:"max-w-xl",attrs:{name:"alertTone",spacing:"compact",value:n.selectedValue,options:n.alertTones,label:e.label},model:{value:n.selectedValue,callback:function(e){n.selectedValue=e},expression:"selectedValue"}},e._l(n.alertTones,(function(r){return t("option",{key:r.label,domProps:{value:r.value,selected:r.value===n.selectedValue}},[e._v("\n    "+e._s(r.label)+"\n  ")])})),0)}),[],!1,null,null,null).exports,oe={__name:"AudioAlertEvent",props:{label:{type:String,default:""},value:{type:String,default:"all"}},emits:["update"],setup:function(e,t){var n=t.emit,r=e,a=q,s=Object(u.computed)({get:function(){return r.value},set:function(e){n("update",e)}});return{__sfc:!0,props:r,emit:n,alertEvents:a,selectedValue:s}}},le=Object(p.a)(oe,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("label",{staticClass:"flex justify-between pb-1 text-sm font-medium leading-6 text-ash-900"},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),t("div",{staticClass:"flex flex-row justify-between h-10 max-w-xl p-2 border border-solid rounded-xl border-ash-200"},e._l(n.alertEvents,(function(r){return t("div",{key:r.value,staticClass:"flex flex-row items-center justify-center gap-2 px-4 border-r border-ash-200 grow last:border-r-0"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.selectedValue,expression:"selectedValue"}],staticClass:"shadow-sm cursor-pointer grid place-items-center border-2 border-ash-200 appearance-none rounded-full w-4 h-4 checked:bg-primary-600 before:content-[''] before:bg-primary-600 before:border-4 before:rounded-full before:border-ash-25 checked:before:w-[14px] checked:before:h-[14px] checked:border checked:border-primary-600",attrs:{id:`radio-${r.value}`,type:"radio"},domProps:{value:r.value,checked:e._q(n.selectedValue,r.value)},on:{change:function(e){n.selectedValue=r.value}}}),e._v(" "),t("label",{staticClass:"text-sm font-medium",class:n.selectedValue===r.value?"text-ash-900":"text-ash-800",attrs:{for:`radio-${r.value}`}},[e._v("\n        "+e._s(e.$t(`PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.ALERT_TYPES.${r.label.toUpperCase()}`))+"\n      ")])])})),0)])}),[],!1,null,null,null).exports,ue={__name:"AudioAlertCondition",props:{label:{type:String,required:!0},items:{type:Array,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit;return{__sfc:!0,emit:n,onChange:function(e,t){n("change",e,t)},CheckBox:U}}},ce={components:{AudioAlertEvent:le,AudioAlertTone:ie,AudioAlertCondition:Object(p.a)(ue,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("label",{staticClass:"flex justify-between pb-1 text-sm font-medium leading-6 text-ash-900"},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),t("div",{staticClass:"flex flex-col gap-4"},e._l(e.items,(function(r){return t("div",{key:r.id,staticClass:"flex flex-row items-start gap-2"},[t(n.CheckBox,{attrs:{"is-checked":r.model,value:r.value},on:{update:n.onChange}}),e._v(" "),t("label",{staticClass:"text-sm font-normal text-ash-900"},[e._v("\n        "+e._s(r.label)+"\n      ")])],1)})),0)])}),[],!1,null,null,null).exports},setup:function(){var e=Object(s.a)();return{uiSettings:e.uiSettings,updateUISettings:e.updateUISettings}},data:function(){return{audioAlert:"",playAudioWhenTabIsInactive:!1,alertIfUnreadConversationExist:!1,alertTone:"ding",audioAlertConditions:[]}},watch:{uiSettings:function(e){this.notificationUISettings(e)}},mounted:function(){this.notificationUISettings(this.uiSettings),this.$store.dispatch("userNotificationSettings/get")},methods:{notificationUISettings:function(e){var t=e.enable_audio_alerts,n=void 0===t?"":t,r=e.always_play_audio_alert,a=e.alert_if_unread_assigned_conversation_exist,s=e.notification_tone;this.audioAlert=n,this.playAudioWhenTabIsInactive=!r,this.alertIfUnreadConversationExist=a,this.audioAlertConditions=[{id:"audio1",label:this.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.CONDITIONS.CONDITION_ONE"),model:this.playAudioWhenTabIsInactive,value:"tab_is_inactive"},{id:"audio2",label:this.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.CONDITIONS.CONDITION_TWO"),model:this.alertIfUnreadConversationExist,value:"conversations_are_read"}],this.alertTone=s||"ding"},handAudioAlertChange:function(e){this.audioAlert=e,this.updateUISettings({enable_audio_alerts:this.audioAlert}),Object(a.a)(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleAudioAlertConditions:function(e,t){"tab_is_inactive"===e?this.updateUISettings({always_play_audio_alert:!t}):"conversations_are_read"===e&&this.updateUISettings({alert_if_unread_assigned_conversation_exist:t}),Object(a.a)(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))},handleAudioToneChange:function(e){this.updateUISettings({notification_tone:e}),Object(a.a)(this.$t("PROFILE_SETTINGS.FORM.API.UPDATE_SUCCESS"))}}},de=Object(p.a)(ce,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col gap-6",attrs:{id:"profile-settings-notifications"}},[t("AudioAlertTone",{attrs:{value:e.alertTone,label:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.DEFAULT_TONE.TITLE")},on:{change:e.handleAudioToneChange}}),e._v(" "),t("AudioAlertEvent",{attrs:{label:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.ALERT_TYPE.TITLE"),value:e.audioAlert},on:{update:e.handAudioAlertChange}}),e._v(" "),t("AudioAlertCondition",{attrs:{items:e.audioAlertConditions,label:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.CONDITIONS.TITLE")},on:{change:e.handleAudioAlertConditions}})],1)}),[],!1,null,null,null).exports,pe={__name:"FormSection",props:{title:{type:String,default:""},description:{type:String,default:""}},setup:function(e){return{__sfc:!0}}},fe=Object(p.a)(pe,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-col items-start w-full gap-6"},[t("div",{staticClass:"flex flex-col w-full gap-4"},[e.title?t("h4",{staticClass:"text-lg font-medium text-ash-900"},[e._v("\n      "+e._s(e.title)+"\n    ")]):e._e(),e._v(" "),e._m(0),e._v(" "),e.description?t("p",{staticClass:"mb-0 text-sm font-normal text-ash-900"},[e._v("\n      "+e._s(e.description)+"\n    ")]):e._e()]),e._v(" "),t("div",{staticClass:"flex flex-col w-full gap-6"},[e._t("default")],2)])}),[function(){var e=this._self._c;this._self._setupProxy;return e("div",{staticClass:"flex flex-row items-center justify-between"},[e("div",{staticClass:"flex-grow h-px bg-ash-200"})])}],!1,null,null,null).exports,me={__name:"AccessToken",props:{value:{type:String,default:""}},emits:["onCopy"],setup:function(e,t){var n=t.emit,r=e,a=Object(u.ref)("password"),s=Object(u.computed)((function(){return"password"===a.value?"eye-hide":"eye-show"}));return{__sfc:!0,props:r,emit:n,inputType:a,toggleMasked:function(){a.value="password"===a.value?"text":"password"},maskIcon:s,onClick:function(){n("onCopy",r.value)},FormButton:O}}},he=Object(p.a)(me,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"flex flex-row justify-between gap-4"},[t("woot-input",{staticClass:"flex-1 [&>input]:!py-1.5 ltr:[&>input]:!pr-9 ltr:[&>input]:!pl-3 rtl:[&>input]:!pl-9 rtl:[&>input]:!pr-3 focus:[&>input]:!border-slate-200 focus:[&>input]:dark:!border-slate-600 [&>input]:cursor-not-allowed relative",attrs:{name:"access_token",styles:{borderRadius:"12px",fontSize:"14px",marginBottom:"2px"},type:n.inputType,value:e.value,readonly:""},scopedSlots:e._u([{key:"masked",fn:function(){return[t("button",{staticClass:"absolute top-1.5 ltr:right-0.5 rtl:left-0.5",on:{click:n.toggleMasked}},[t("fluent-icon",{attrs:{icon:n.maskIcon,size:16}})],1)]},proxy:!0}])}),e._v(" "),t(n.FormButton,{attrs:{type:"submit",size:"large",icon:"text-copy",variant:"outline","color-scheme":"secondary"},on:{click:n.onClick}},[e._v("\n    "+e._s(e.$t("PROFILE_SETTINGS.FORM.ACCESS_TOKEN.COPY"))+"\n  ")])],1)}),[],!1,null,null,null).exports,_e=n(945),ge=n(95);function Se(e,t,n,r,a,s,i){try{var o=e[s](i),l=o.value}catch(u){return void n(u)}o.done?t(l):Promise.resolve(l).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){Se(s,r,a,i,o,"next",e)}function o(e){Se(s,r,a,i,o,"throw",e)}i(void 0)}))}}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe={components:{MessageSignature:F,FormSection:fe,UserProfilePicture:E,Policy:_e.a,UserBasicDetails:C,HotKeyCard:k,ChangePassword:j,NotificationPreferences:ne,AudioNotifications:de,AccessToken:he},setup:function(){var e=Object(l.a)().useInstallationName,t=Object(s.a)();return{uiSettings:t.uiSettings,updateUISettings:t.updateUISettings,isEditorHotKeyEnabled:t.isEditorHotKeyEnabled,useInstallationName:e}},data:function(){return{avatarFile:"",avatarUrl:"",name:"",displayName:"",email:"",messageSignature:"",hotKeys:[{key:"enter",title:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.ENTER_KEY.HEADING"),description:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.ENTER_KEY.CONTENT"),lightImage:"/assets/images/dashboard/profile/hot-key-enter.svg",darkImage:"/assets/images/dashboard/profile/hot-key-enter-dark.svg"},{key:"cmd_enter",title:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.CMD_ENTER_KEY.HEADING"),description:this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.CARD.CMD_ENTER_KEY.CONTENT"),lightImage:"/assets/images/dashboard/profile/hot-key-ctrl-enter.svg",darkImage:"/assets/images/dashboard/profile/hot-key-ctrl-enter-dark.svg"}],notificationPermissions:[].concat(Ie(ge.j),Ie(ge.e)),audioNotificationPermissions:[].concat(Ie(ge.j),Ie(ge.e))}},computed:be({},Object(r.mapGetters)({currentUser:"getCurrentUser",currentUserId:"getCurrentUserID",globalConfig:"globalConfig/get"})),mounted:function(){this.currentUserId&&this.initializeUser()},methods:{initializeUser:function(){this.name=this.currentUser.name,this.email=this.currentUser.email,this.avatarUrl=this.currentUser.avatar_url,this.displayName=this.currentUser.display_name,this.messageSignature=this.currentUser.message_signature},dispatchUpdate:function(e,t,n){var r=this;return ve(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o="",s.prev=1,s.next=4,r.$store.dispatch("updateProfile",e);case 4:return o=t,s.abrupt("return",!0);case 8:return s.prev=8,s.t0=s.catch(1),o=Object(i.e)(s.t0)||n,s.abrupt("return",!1);case 12:return s.prev=12,Object(a.a)(o),s.finish(12);case 15:case"end":return s.stop()}}),s,null,[[1,8,12,15]])})))()},updateProfile:function(e){var t=this;return ve(regeneratorRuntime.mark((function n(){var r,a,s,o,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.name,a=e.email,s=e.displayName,o=t.currentUser.email!==a,t.name=r||t.name,t.email=a||t.email,t.displayName=s||t.displayName,l={name:t.name,email:t.email,displayName:t.displayName,avatar:t.avatarFile},n.next=8,t.dispatchUpdate(l,o?t.$t("PROFILE_SETTINGS.AFTER_EMAIL_CHANGED"):t.$t("PROFILE_SETTINGS.UPDATE_SUCCESS"),t.$t("RESET_PASSWORD.API.ERROR_MESSAGE"));case 8:u=n.sent,o&&u&&Object(i.b)();case 10:case"end":return n.stop()}}),n)})))()},updateSignature:function(e){var t=this;return ve(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={message_signature:e},a=t.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.API_SUCCESS"),s=t.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.API_ERROR"),n.next=5,t.dispatchUpdate(r,a,s);case 5:case"end":return n.stop()}}),n)})))()},updateProfilePicture:function(e){var t=e.file,n=e.url;this.avatarFile=t,this.avatarUrl=n},deleteProfilePicture:function(){var e=this;return ve(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("deleteAvatar");case 3:e.avatarUrl="",e.avatarFile="",Object(a.a)(e.$t("PROFILE_SETTINGS.AVATAR_DELETE_SUCCESS")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(a.a)(e.$t("PROFILE_SETTINGS.AVATAR_DELETE_FAILED"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},toggleHotKey:function(e){this.hotKeys=this.hotKeys.map((function(t){return t.key===e?be(be({},t),{},{active:!t.active}):t})),this.updateUISettings({editor_message_key:e}),Object(a.a)(this.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.UPDATE_SUCCESS"))},onCopyToken:function(e){var t=this;return ve(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.a)(e);case 2:Object(a.a)(t.$t("COMPONENTS.CODE.COPY_SUCCESSFUL"));case 3:case"end":return n.stop()}}),n)})))()}}},ye=Object(p.a)(xe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid py-16 px-5 font-inter mx-auto gap-16 sm:max-w-[720px]"},[t("div",{staticClass:"flex flex-col gap-6"},[t("h2",{staticClass:"text-2xl font-medium text-ash-900"},[e._v("\n      "+e._s(e.$t("PROFILE_SETTINGS.TITLE"))+"\n    ")]),e._v(" "),t("UserProfilePicture",{attrs:{src:e.avatarUrl,name:e.name,size:"72px"},on:{change:e.updateProfilePicture,delete:e.deleteProfilePicture}}),e._v(" "),t("UserBasicDetails",{attrs:{name:e.name,"display-name":e.displayName,email:e.email,"email-enabled":!e.globalConfig.disableUserProfileUpdate},on:{updateUser:e.updateProfile}})],1),e._v(" "),t("FormSection",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.TITLE"),description:e.$t("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.NOTE")}},[t("MessageSignature",{attrs:{"message-signature":e.messageSignature},on:{updateSignature:e.updateSignature}})],1),e._v(" "),t("FormSection",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.TITLE"),description:e.$t("PROFILE_SETTINGS.FORM.SEND_MESSAGE.NOTE")}},[t("div",{staticClass:"flex flex-col justify-between w-full gap-5 sm:gap-4 sm:flex-row"},e._l(e.hotKeys,(function(n){return t("button",{key:n.key,staticClass:"px-0 reset-base"},[t("HotKeyCard",{key:n.title,attrs:{title:n.title,description:n.description,"light-image":n.lightImage,"dark-image":n.darkImage,active:e.isEditorHotKeyEnabled(n.key)},on:{click:function(t){return e.toggleHotKey(n.key)}}})],1)})),0)]),e._v(" "),e.globalConfig.disableUserProfileUpdate?e._e():t("FormSection",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.PASSWORD_SECTION.TITLE")}},[t("ChangePassword")],1),e._v(" "),t("Policy",{attrs:{permissions:e.audioNotificationPermissions}},[t("FormSection",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.TITLE"),description:e.$t("PROFILE_SETTINGS.FORM.AUDIO_NOTIFICATIONS_SECTION.NOTE")}},[t("AudioNotifications")],1)],1),e._v(" "),t("Policy",{attrs:{permissions:e.notificationPermissions}},[t("FormSection",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.NOTIFICATIONS.TITLE")}},[t("NotificationPreferences")],1)],1),e._v(" "),t("FormSection",{attrs:{title:e.$t("PROFILE_SETTINGS.FORM.ACCESS_TOKEN.TITLE"),description:e.useInstallationName(e.$t("PROFILE_SETTINGS.FORM.ACCESS_TOKEN.NOTE"),e.globalConfig.installationName)}},[t("AccessToken",{attrs:{value:e.currentUser.access_token},on:{onCopy:e.onCopyToken}})],1)],1)}),[],!1,null,null,null);t.default=ye.exports}}]);
//# sourceMappingURL=78-adddc47b4a8c7aba458f.chunk.js.map