(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1592:function(e,t,n){"use strict";var s=n(252),o={__name:"BackButton",props:{backUrl:{type:[String,Object],default:""},buttonLabel:{type:String,default:""},compact:{type:Boolean,default:!1}},setup:function(e){var t=e,n=t.compact?"text-sm text-slate-600 dark:text-slate-300":"text-base text-woot-500 dark:text-woot-500";return{__sfc:!0,props:t,goBack:function(){""!==t.backUrl?s.a.push(t.backUrl):s.a.go(-1)},buttonStyleClass:n}}},a=n(8),r=Object(a.a)(o,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("button",{staticClass:"flex items-center p-0 font-normal cursor-pointer",class:n.buttonStyleClass,on:{"!click":function(e){return n.goBack.apply(null,arguments)}}},[t("fluent-icon",{staticClass:"-ml-1",attrs:{icon:"chevron-left"}}),e._v("\n  "+e._s(e.buttonLabel||e.$t("GENERAL_SETTINGS.BACK"))+"\n")],1)}),[],!1,null,null,null);t.a=r.exports},1593:function(e,t,n){"use strict";var s=n(199),o=n(5),a={__name:"CustomBrandPolicyWrapper",props:{showOnCustomBrandedInstance:{type:Boolean,default:!0}},setup:function(e){var t=e,n=Object(s.c)(),a=n["globalConfig/isACustomBrandedInstance"],r=Object(o.computed)((function(){return t.showOnCustomBrandedInstance||!a.value}));return{__sfc:!0,props:t,getters:n,isACustomBrandedInstance:a,shouldShowContent:r}}},r=n(8),i=Object(r.a)(a,(function(){var e=this,t=e._self._c;return e._self._setupProxy.shouldShowContent?t("div",[e._t("default")],2):e._e()}),[],!1,null,null,null).exports,l={agent_bots:"https://chwt.app/hc/agent-bots",agents:"https://chwt.app/hc/agents",audit_logs:"https://chwt.app/hc/audit-logs",campaigns:"https://chwt.app/hc/campaigns",canned_responses:"https://chwt.app/hc/canned",channel_email:"https://chwt.app/hc/email",channel_facebook:"https://chwt.app/hc/fb",custom_attributes:"https://chwt.app/hc/custom-attributes",dashboard_apps:"https://chwt.app/hc/dashboard-apps",help_center:"https://chwt.app/hc/help-center",inboxes:"https://chwt.app/hc/inboxes",integrations:"https://chwt.app/hc/integrations",labels:"https://chwt.app/hc/labels",macros:"https://chwt.app/hc/macros",message_reply_to:"https://chwt.app/hc/reply-to",reports:"https://chwt.app/hc/reports",sla:"https://chwt.app/hc/sla",captain:"https://chwt.app/hc/captain",team_management:"https://chwt.app/hc/teams",webhook:"https://chwt.app/hc/webhooks"};var c=n(1592),u={__name:"BaseSettingsHeader",props:{title:{type:String,required:!0},description:{type:String,required:!0},iconName:{type:String,default:""},linkText:{type:String,default:""},featureName:{type:String,default:""},backButtonLabel:{type:String,default:""}},setup:function(e){var t;return{__sfc:!0,props:e,helpURL:(t=e.featureName,l[t]),openInNewTab:function(e){e&&window.open(e,"_blank","noopener noreferrer")},CustomBrandPolicyWrapper:i,BackButton:c.a}}},d=Object(r.a)(u,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"flex flex-col items-start w-full gap-2 pt-4"},[e.backButtonLabel?t(n.BackButton,{attrs:{compact:"","button-label":e.backButtonLabel}}):e._e(),e._v(" "),t("div",{staticClass:"flex items-center justify-between w-full gap-4"},[t("div",{staticClass:"flex items-center gap-3"},[e.iconName?t("div",{staticClass:"flex items-center w-10 h-10 p-1 rounded-full bg-woot-25/60 dark:bg-woot-900/60"},[t("div",{staticClass:"flex items-center justify-center w-full h-full rounded-full bg-woot-75/70 dark:bg-woot-800/40"},[t("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"14",icon:e.iconName,type:"outline"}})],1)]):e._e(),e._v(" "),t("h1",{staticClass:"text-2xl font-semibold font-interDisplay tracking-[0.3px] text-slate-900 dark:text-slate-25"},[e._v("\n        "+e._s(e.title)+"\n      ")])]),e._v(" "),t("div",{staticClass:"hidden gap-2 sm:flex"},[e._t("actions")],2)]),e._v(" "),t("div",{staticClass:"flex flex-col gap-3 text-slate-600 dark:text-slate-300 w-full"},[t("p",{staticClass:"mb-0 text-base font-normal line-clamp-5 sm:line-clamp-none max-w-3xl tracking-[-0.1px]"},[e._t("description",(function(){return[e._v(e._s(e.description))]}))],2),e._v(" "),t(n.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[n.helpURL&&e.linkText?t("a",{staticClass:"sm:inline-flex hidden gap-1 w-fit items-center text-woot-500 dark:text-woot-500 text-sm font-medium hover:underline",attrs:{href:n.helpURL,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n        "+e._s(e.linkText)+"\n        "),t("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"16",icon:"chevron-right",type:"outline"}})],1):e._e()])],1),e._v(" "),t("div",{staticClass:"flex items-start justify-start w-full gap-3 sm:hidden flex-wrap"},[e._t("actions"),e._v(" "),t(n.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[n.helpURL&&e.linkText?t("woot-button",{staticClass:"flex-row-reverse rounded-md min-w-0 !bg-slate-50 !text-slate-900 dark:!text-white dark:!bg-slate-800",attrs:{"color-scheme":"secondary",icon:"arrow-outwards"},on:{click:function(e){return n.openInNewTab(n.helpURL)}}},[e._v("\n        "+e._s(e.linkText)+"\n      ")]):e._e()],1)],2)],1)}),[],!1,null,null,null);t.a=d.exports},1595:function(e,t,n){"use strict";var s={__name:"SettingsLayout",props:{isLoading:{type:Boolean,default:!1},noRecordsFound:{type:Boolean,default:!1},loadingMessage:{type:String,default:""},noRecordsMessage:{type:String,default:""}},setup:function(e){return{__sfc:!0}}},o=n(8),a=Object(o.a)(s,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-col w-full h-full gap-10 font-inter"},[e._t("header"),e._v(" "),t("div",[e._t("preBody"),e._v(" "),e.isLoading?e._t("loading",(function(){return[t("woot-loading-state",{attrs:{message:e.loadingMessage}})]})):e.noRecordsFound?t("p",{staticClass:"flex-1 text-slate-700 dark:text-slate-100 flex items-center justify-center text-base"},[e._v("\n      "+e._s(e.noRecordsMessage)+"\n    ")]):e._t("body"),e._v(" "),e._t("default")],2)],2)}),[],!1,null,null,null);t.a=a.exports},1796:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(41);var s=function(e,t){var n=t.toUpperCase();return"".concat(e,".").concat(n)}},1916:function(e,t,n){"use strict";var s={__name:"BasePaywallModal",props:{featurePrefix:{type:String,required:!0},i18nKey:{type:String,required:!0},isOnChatwootCloud:{type:Boolean,default:!1},isSuperAdmin:{type:Boolean,default:!1}},emits:["click"],setup:function(e,t){return{__sfc:!0,emit:t.emit}}},o=n(8),a=Object(o.a)(s,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"flex flex-col max-w-md px-6 py-6 bg-white border shadow dark:bg-slate-800 rounded-xl border-slate-100 dark:border-slate-900"},[t("div",{staticClass:"flex items-center w-full gap-2 mb-4"},[t("span",{staticClass:"flex items-center justify-center w-6 h-6 rounded-full bg-woot-75/70 dark:bg-woot-800/40"},[t("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"14",icon:"lock-closed"}})],1),e._v(" "),t("span",{staticClass:"text-base font-medium text-slate-900 dark:text-white"},[e._v("\n      "+e._s(e.$t(`${e.featurePrefix}.PAYWALL.TITLE`))+"\n    ")])]),e._v(" "),t("p",{staticClass:"text-sm font-normal",domProps:{innerHTML:e._s(e.$t(`${e.featurePrefix}.${e.i18nKey}.AVAILABLE_ON`))}}),e._v(" "),t("p",{staticClass:"text-sm font-normal"},[e._v("\n    "+e._s(e.$t(`${e.featurePrefix}.${e.i18nKey}.UPGRADE_PROMPT`))+"\n    "),e.isOnChatwootCloud||e.isSuperAdmin?e._e():t("span",[e._v("\n      "+e._s(e.$t(`${e.featurePrefix}.ENTERPRISE_PAYWALL.ASK_ADMIN`))+"\n    ")])]),e._v(" "),(e.isOnChatwootCloud,[t("woot-button",{staticClass:"w-full mt-2 text-center rounded-xl",attrs:{"color-scheme":"primary",size:"expanded","is-expanded":""},on:{click:function(e){return n.emit("click")}}},[e._v("\n      "+e._s(e.$t(`${e.featurePrefix}.PAYWALL.UPGRADE_NOW`))+"\n    ")]),e._v(" "),t("span",{staticClass:"mt-2 text-xs tracking-tight text-center"},[e._v("\n      "+e._s(e.$t(`${e.featurePrefix}.PAYWALL.CANCEL_ANYTIME`))+"\n    ")])])],2)}),[],!1,null,null,null);t.a=a.exports},1978:function(e,t,n){var s=n(65),o=n(2249);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};s(o,a);e.exports=o.locals||{}},2248:function(e,t,n){"use strict";n(1978)},2249:function(e,t,n){(t=n(66)(!0)).push([e.i,"[data-v-5e735aae] .ProseMirror-menubar {display: none\n}[data-v-5e735aae] .ProseMirror-woot-style {max-height: 110px\n}[data-v-5e735aae] .ProseMirror-woot-style p {font-size: 1rem;line-height: 1.5rem\n}","",{version:3,sources:["/home/leonardo/chatwoot/app/javascript/dashboard/routes/dashboard/settings/customRoles/component/CustomRoleModal.vue"],names:[],mappings:"AAGI,wCAAA;AAAA,CAIA,2CAAA;AAAA,CAGE,6CAAA,eAAA,CAAA;AAAA",file:"CustomRoleModal.vue",sourcesContent:["\n::v-deep {\n  .ProseMirror-menubar {\n    @apply hidden;\n  }\n\n  .ProseMirror-woot-style {\n    @apply max-h-[110px];\n\n    p {\n      @apply text-base;\n    }\n  }\n}\n"]}]),e.exports=t},2480:function(e,t,n){"use strict";n.r(t);n(33),n(41),n(44),n(9),n(22);var s=n(64),o=n(1595),a=n(1593),r=(n(77),n(10),n(32),n(93),n(14),n(730),n(17),n(20),n(21),n(34),n(67),n(59),n(24),n(29),n(23),n(30),n(5)),i=n(199),l=n(363),c=n(118),u=n(58),d=n(95),p=n(906),m=n(900);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,s,o,a,r){try{var i=e[a](r),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(s,o)}function b(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var O={__name:"CustomRoleModal",props:{mode:{type:String,default:"add",validator:function(e){return["add","edit"].includes(e)}},selectedRole:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(e,t){var n=t.emit,o=e,a=Object(i.b)(),f=Object(l.a)().t,v=Object(r.ref)(""),C=Object(r.ref)(""),O=Object(r.ref)([]),g=Object(r.ref)(null),x=Object(r.reactive)({showLoading:!1,message:""}),w=Object(r.computed)((function(){return{name:{required:u.f,minLength:Object(u.d)(2)},description:{required:u.f},selectedPermissions:{required:u.f,minLength:Object(u.d)(1)}}})),y=Object(c.a)(w,{name:v,description:C,selectedPermissions:O}),E=function(){v.value="",C.value="",O.value=[],y.value.$reset()},R=function(){v.value=o.selectedRole.name||"",C.value=o.selectedRole.description||"",O.value=o.selectedRole.permissions||[]};Object(r.watch)(O,(function(e,t){var n=e.includes(d.g)&&!t.includes(d.g),s=t.includes(d.g)&&!e.includes(d.g);n?O.value=b(new Set([].concat(b(O.value),[d.f,d.d]))):s&&(O.value=O.value.filter((function(e){return e!==d.g})))}),{deep:!0}),Object(r.onMounted)((function(){var e;"edit"===o.mode&&R(),null===(e=g.value)||void 0===e||e.focus()}));var S=function(e){return"edit"===o.mode?"CUSTOM_ROLE.EDIT.".concat(e):"CUSTOM_ROLE.ADD.".concat(e)},A=Object(r.computed)((function(){return f(S("TITLE"))})),T=Object(r.computed)((function(){return f(S("DESC"))})),L=Object(r.computed)((function(){return f(S("SUBMIT"))})),M=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.value.$touch(),!y.value.$invalid){e.next=3;break}return e.abrupt("return");case 3:if(x.showLoading=!0,e.prev=4,t={name:v.value,description:C.value,permissions:O.value},"edit"!==o.mode){e.next=12;break}return e.next=9,a.dispatch("customRole/updateCustomRole",_({id:o.selectedRole.id},t));case 9:Object(s.a)(f("CUSTOM_ROLE.EDIT.API.SUCCESS_MESSAGE")),e.next=15;break;case 12:return e.next=14,a.dispatch("customRole/createCustomRole",t);case 14:Object(s.a)(f("CUSTOM_ROLE.ADD.API.SUCCESS_MESSAGE"));case 15:E(),n("close"),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),r=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||f("CUSTOM_ROLE.FORM.API.ERROR_MESSAGE"),Object(s.a)(r);case 23:return e.prev=23,x.showLoading=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,19,23,26]])})),function(){var t=this,n=arguments;return new Promise((function(s,o){var a=e.apply(t,n);function r(e){h(a,s,o,r,i,"next",e)}function i(e){h(a,s,o,r,i,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),P=Object(r.computed)((function(){return y.value.$invalid||x.showLoading}));return{__sfc:!0,props:o,emit:n,store:a,t:f,name:v,description:C,selectedPermissions:O,nameInput:g,addCustomRole:x,rules:w,v$:y,resetForm:E,populateEditForm:R,getTranslationKey:S,modalTitle:A,modalDescription:T,submitButtonText:L,handleCustomRole:M,isSubmitDisabled:P,AVAILABLE_CUSTOM_ROLE_PERMISSIONS:d.b,WootSubmitButton:p.a,WootMessageEditor:m.a}}},g=O,x=(n(2248),n(8)),w=Object(x.a)(g,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"flex flex-col h-auto overflow-auto"},[t("woot-modal-header",{attrs:{"header-title":n.modalTitle,"header-content":n.modalDescription}}),e._v(" "),t("form",{staticClass:"flex flex-col w-full",on:{submit:function(e){return e.preventDefault(),n.handleCustomRole.apply(null,arguments)}}},[t("div",{staticClass:"w-full"},[t("label",{class:{"text-red-500":n.v$.name.$error}},[e._v("\n        "+e._s(e.$t("CUSTOM_ROLE.FORM.NAME.LABEL"))+"\n        "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.name,expression:"name",modifiers:{trim:!0}}],ref:"nameInput",class:{"!border-red-500":n.v$.name.$error},attrs:{type:"text",placeholder:e.$t("CUSTOM_ROLE.FORM.NAME.PLACEHOLDER")},domProps:{value:n.name},on:{blur:[n.v$.name.$touch,function(t){return e.$forceUpdate()}],input:function(e){e.target.composing||(n.name=e.target.value.trim())}}})])]),e._v(" "),t("div",{staticClass:"w-full"},[t("label",{class:{"text-red-500":n.v$.description.$error}},[e._v("\n        "+e._s(e.$t("CUSTOM_ROLE.FORM.DESCRIPTION.LABEL"))+"\n      ")]),e._v(" "),t("div",{staticClass:"editor-wrap"},[t(n.WootMessageEditor,{staticClass:"message-editor [&>div]:px-1 h-28",class:{editor_warning:n.v$.description.$error},attrs:{"enable-variables":"","focus-on-mount":!1,"enable-canned-responses":!1,placeholder:e.$t("CUSTOM_ROLE.FORM.DESCRIPTION.PLACEHOLDER")},on:{blur:n.v$.description.$touch},model:{value:n.description,callback:function(e){n.description=e},expression:"description"}})],1)]),e._v(" "),t("div",{staticClass:"w-full"},[t("label",{class:{"text-red-500":n.v$.selectedPermissions.$error}},[e._v("\n        "+e._s(e.$t("CUSTOM_ROLE.FORM.PERMISSIONS.LABEL"))+"\n      ")]),e._v(" "),t("div",{staticClass:"flex flex-col gap-2.5 mb-4"},e._l(n.AVAILABLE_CUSTOM_ROLE_PERMISSIONS,(function(s){return t("div",{key:s,staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.selectedPermissions,expression:"selectedPermissions"}],staticClass:"ltr:mr-2 rtl:ml-2",attrs:{id:s,type:"checkbox",name:"permissions"},domProps:{value:s,checked:Array.isArray(n.selectedPermissions)?e._i(n.selectedPermissions,s)>-1:n.selectedPermissions},on:{change:function(t){var o=n.selectedPermissions,a=t.target,r=!!a.checked;if(Array.isArray(o)){var i=s,l=e._i(o,i);a.checked?l<0&&(n.selectedPermissions=o.concat([i])):l>-1&&(n.selectedPermissions=o.slice(0,l).concat(o.slice(l+1)))}else n.selectedPermissions=r}}}),e._v(" "),t("label",{staticClass:"text-sm",attrs:{for:s}},[e._v("\n            "+e._s(e.$t(`CUSTOM_ROLE.PERMISSIONS.${s.toUpperCase()}`))+"\n          ")])])})),0)]),e._v(" "),t("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[t(n.WootSubmitButton,{attrs:{disabled:n.isSubmitDisabled,"button-text":n.submitButtonText,loading:n.addCustomRole.showLoading}}),e._v(" "),t("button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),n.emit("close")}}},[e._v("\n        "+e._s(e.$t("CUSTOM_ROLE.FORM.CANCEL_BUTTON_TEXT"))+"\n      ")])],1)])],1)}),[],!1,null,"5e735aae",null),y=w.exports,E=(n(258),n(83),n(1796)),R={__name:"CustomRoleTableBody",props:{roles:{type:Array,required:!0},loading:{type:Object,default:function(){return{}}}},emits:["edit","delete"],setup:function(e,t){var n=t.emit,s=Object(l.a)().t;return{__sfc:!0,emit:n,t:s,getFormattedPermissions:function(e){return e.permissions.map((function(e){return s(Object(E.a)("CUSTOM_ROLE.PERMISSIONS",e))})).join(", ")}}}},S=Object(x.a)(R,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("tbody",{staticClass:"divide-y divide-slate-50 dark:divide-slate-800 text-slate-700 dark:text-slate-300"},e._l(e.roles,(function(s,o){return t("tr",{key:o},[t("td",{staticClass:"max-w-xs py-4 pr-4 font-medium truncate align-baseline",attrs:{title:s.name}},[e._v("\n      "+e._s(s.name)+"\n    ")]),e._v(" "),t("td",{staticClass:"py-4 pr-4 whitespace-normal align-baseline md:break-words"},[e._v("\n      "+e._s(s.description)+"\n    ")]),e._v(" "),t("td",{staticClass:"py-4 pr-4 whitespace-normal align-baseline md:break-words"},[e._v("\n      "+e._s(n.getFormattedPermissions(s))+"\n    ")]),e._v(" "),t("td",{staticClass:"flex justify-end gap-1 py-4"},[t("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("CUSTOM_ROLE.EDIT.BUTTON_TEXT"),expression:"$t('CUSTOM_ROLE.EDIT.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary","class-names":"grey-btn",icon:"edit"},on:{click:function(e){return n.emit("edit",s)}}}),e._v(" "),t("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("CUSTOM_ROLE.DELETE.BUTTON_TEXT"),expression:"$t('CUSTOM_ROLE.DELETE.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle","class-names":"grey-btn","is-loading":e.loading[s.id]},on:{click:function(e){return n.emit("delete",s)}}})],1)])})),0)}),[],!1,null,null,null).exports,A=n(383),T=n(1916),L={__name:"CustomRolePaywall",setup:function(e){var t=Object(A.b)(),n=Object(i.a)("globalConfig/isOnChatwootCloud"),s=Object(i.a)("getCurrentUser"),o=Object(i.a)("getCurrentAccountId"),a=Object(r.computed)((function(){return"SuperAdmin"===s.value.type})),l=Object(r.computed)((function(){return n.value?"PAYWALL":"ENTERPRISE_PAYWALL"}));return{__sfc:!0,dummyCustomRolesData:[{name:"All Permissions",description:"All permissions",permissions:["conversation_manage","conversation_participating_manage","conversation_unassigned_manage","contact_manage","report_manage","knowledge_base_manage"]},{name:"Conversation Permissions",description:"Conversation permissions",permissions:["conversation_manage","conversation_participating_manage","conversation_unassigned_manage"]},{name:"Contact Permissions",description:"Contact permissions",permissions:["contact_manage"]},{name:"Report Permissions",description:"Report permissions",permissions:["report_manage"]}],router:t,isOnChatwootCloud:n,currentUser:s,currentAccountId:o,isSuperAdmin:a,i18nKey:l,goToBillingSettings:function(){t.push({name:"billing_settings_index",params:{accountId:o.value}})},BasePaywallModal:T.a,CustomRoleListItem:S}}},M=Object(x.a)(L,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"w-full min-h-[12rem] relative"},[t("div",{staticClass:"w-full space-y-3 text-sm"},[t("thead",{staticClass:"opacity-30 dark:opacity-30"},e._l(e.$t("CUSTOM_ROLE.LIST.TABLE_HEADER"),(function(n){return t("th",{key:n,staticClass:"py-4 pr-4 font-semibold text-left text-slate-700 dark:text-slate-300"},[t("span",{staticClass:"mb-0"},[e._v("\n          "+e._s(n)+"\n        ")])])})),0),e._v(" "),t(n.CustomRoleListItem,{staticClass:"opacity-25 dark:opacity-20",attrs:{roles:n.dummyCustomRolesData,loading:{}}})],1),e._v(" "),t("div",{staticClass:"absolute inset-0 flex flex-col items-center justify-center w-full h-full bg-gradient-to-t from-white dark:from-slate-900 to-transparent"},[t(n.BasePaywallModal,{attrs:{"feature-prefix":"CUSTOM_ROLE","i18n-key":n.i18nKey,"is-on-chatwoot-cloud":n.isOnChatwootCloud,"is-super-admin":n.isSuperAdmin},on:{click:n.goToBillingSettings}})],1)])}),[],!1,null,null,null).exports;function P(e,t,n,s,o,a,r){try{var i=e[a](r),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(s,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var a=e.apply(t,n);function r(e){P(a,s,o,r,i,"next",e)}function i(e){P(a,s,o,r,i,"throw",e)}r(void 0)}))}}var j={__name:"Index",setup:function(e){var t=Object(i.b)(),n=Object(l.a)().t,c=Object(r.ref)(!1),u=Object(r.ref)("add"),d=Object(r.ref)(null),p=Object(r.ref)({}),m=Object(r.ref)(!1),f=Object(r.ref)({}),_=Object(i.a)("customRole/getCustomRoles"),v=Object(i.a)("customRole/getUIFlags"),h=Object(r.computed)((function(){return"".concat(n("CUSTOM_ROLE.DELETE.CONFIRM.YES")," ").concat(f.value.name)})),b=Object(r.computed)((function(){return"".concat(n("CUSTOM_ROLE.DELETE.CONFIRM.NO")," ").concat(f.value.name)})),C=Object(r.computed)((function(){return" ".concat(f.value.name," ? ")})),O=Object(i.a)("accounts/isFeatureEnabledonAccount"),g=Object(i.a)("getCurrentAccountId"),x=Object(r.computed)((function(){return!O.value(g.value,"custom_roles")})),w=function(){var e=k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch("customRole/getCustomRole");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();Object(r.onMounted)((function(){w()}));var E=function(e){p.value[f.value.id]=!1,f.value={},Object(s.a)(e)},R=function(){m.value=!1},A=function(){var e=k(regeneratorRuntime.mark((function e(s){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch("customRole/deleteCustomRole",s);case 3:E(n("CUSTOM_ROLE.DELETE.API.SUCCESS_MESSAGE")),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),o=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||n("CUSTOM_ROLE.DELETE.API.ERROR_MESSAGE"),E(o);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return{__sfc:!0,store:t,t:n,showCustomRoleModal:c,customRoleModalMode:u,selectedRole:d,loading:p,showDeleteConfirmationPopup:m,activeResponse:f,records:_,uiFlags:v,deleteConfirmText:h,deleteRejectText:b,deleteMessage:C,isFeatureEnabledOnAccount:O,currentAccountId:g,isBehindAPaywall:x,fetchCustomRoles:w,showAlertMessage:E,openAddModal:function(){x.value||(u.value="add",d.value=null,c.value=!0)},openEditModal:function(e){u.value="edit",d.value=e,c.value=!0},hideCustomRoleModal:function(){d.value=null,c.value=!1},openDeletePopup:function(e){m.value=!0,f.value=e},closeDeletePopup:R,deleteCustomRole:A,confirmDeletion:function(){p[f.value.id]=!0,R(),A(f.value.id)},SettingsLayout:o.a,BaseSettingsHeader:a.a,CustomRoleModal:y,CustomRoleTableBody:S,CustomRolePaywall:M}}},I=j,B=Object(x.a)(I,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.SettingsLayout,{attrs:{"is-loading":n.uiFlags.fetchingList,"loading-message":e.$t("CUSTOM_ROLE.LOADING"),"no-records-found":!n.records.length&&!n.isBehindAPaywall,"no-records-message":e.$t("CUSTOM_ROLE.LIST.404")},scopedSlots:e._u([{key:"header",fn:function(){return[t(n.BaseSettingsHeader,{attrs:{title:e.$t("CUSTOM_ROLE.HEADER"),description:e.$t("CUSTOM_ROLE.DESCRIPTION"),"link-text":e.$t("CUSTOM_ROLE.LEARN_MORE"),"feature-name":"canned_responses"},scopedSlots:e._u([{key:"actions",fn:function(){return[t("woot-button",{staticClass:"rounded-md button nice",attrs:{icon:"add-circle",disabled:n.isBehindAPaywall},on:{click:n.openAddModal}},[e._v("\n          "+e._s(e.$t("CUSTOM_ROLE.HEADER_BTN_TXT"))+"\n        ")])]},proxy:!0}])})]},proxy:!0},{key:"body",fn:function(){return[n.isBehindAPaywall?t(n.CustomRolePaywall):t("table",{staticClass:"min-w-full overflow-x-auto divide-y divide-slate-75 dark:divide-slate-700"},[t("thead",e._l(e.$t("CUSTOM_ROLE.LIST.TABLE_HEADER"),(function(n){return t("th",{key:n,staticClass:"py-4 pr-4 font-semibold text-left text-slate-700 dark:text-slate-300"},[t("span",{staticClass:"mb-0"},[e._v("\n            "+e._s(n)+"\n          ")])])})),0),e._v(" "),t(n.CustomRoleTableBody,{attrs:{roles:n.records,loading:n.loading},on:{edit:n.openEditModal,delete:n.openDeletePopup}})],1)]},proxy:!0}])},[e._v(" "),e._v(" "),t("woot-modal",{attrs:{show:n.showCustomRoleModal,"on-close":n.hideCustomRoleModal},on:{"update:show":function(e){n.showCustomRoleModal=e}}},[t(n.CustomRoleModal,{attrs:{mode:n.customRoleModalMode,"selected-role":n.selectedRole},on:{close:n.hideCustomRoleModal}})],1),e._v(" "),t("woot-delete-modal",{attrs:{show:n.showDeleteConfirmationPopup,"on-close":n.closeDeletePopup,"on-confirm":n.confirmDeletion,title:e.$t("CUSTOM_ROLE.DELETE.CONFIRM.TITLE"),message:e.$t("CUSTOM_ROLE.DELETE.CONFIRM.MESSAGE"),"message-value":n.deleteMessage,"confirm-text":n.deleteConfirmText,"reject-text":n.deleteRejectText},on:{"update:show":function(e){n.showDeleteConfirmationPopup=e}}})],1)}),[],!1,null,null,null);t.default=B.exports}}]);
//# sourceMappingURL=61-a51e54c18ac34b52bede.chunk.js.map